---

title: 第十二周学习汇报
date: 2020-11-16
category: 研一上周报

---

#### 1116

<!-- more -->

将标注系统嵌入训练系统内，关联路径到数据集文件夹，实现标注时数据集的切换：

<img src="https://cdn.jsdelivr.net/gh/juaran/juaran.github.io@image/typora/c12cfba4-39d2-4c8d-9008-15052a3b87bb.jpg" alt="c12cfba4-39d2-4c8d-9008-15052a3b87bb" style="zoom:45%;" />

#### 1117
将 yolov5 项目嵌入训练系统内，通过flask路由接口调用，返回预测结果到前端：

<img src="https://cdn.jsdelivr.net/gh/juaran/juaran.github.io@image/typora/e2155fcd-f48d-4299-bfda-3a4ba66b9801.jpg" alt="e2155fcd-f48d-4299-bfda-3a4ba66b9801" style="zoom:40%;" />

#### 1118
加载四种预训练权重，用户可选择不同性能的权重进行目标检测：yolov5s.pt < yolov5m.pt < yolov5l.pt < yolov5x.pt，coco-best.pt为数据集coco128的训练权重

<img src="https://cdn.jsdelivr.net/gh/juaran/juaran.github.io@image/typora/49a4bf9b-e635-40c1-8b7a-ab7e3f04d54c.jpg" alt="49a4bf9b-e635-40c1-8b7a-ab7e3f04d54c" style="zoom: 60%;" />

下载导入了用户自定义训练的香烟权重 smoke-last.pt，可准确识别图片中的香烟：

<table>
<tr><td>
<img src="https://cdn.jsdelivr.net/gh/juaran/juaran.github.io@image/typora/b27a9064-b65e-441c-9dd2-cc183f23b338.jpg" zoom="50%" />
</td><td>
<img src="https://cdn.jsdelivr.net/gh/juaran/juaran.github.io@image/typora/5d525bb7-1596-4cec-91e7-b19b5c142a53.jpg" zoom="50%" />
</td></tr>
</table>

#### 1119
编写用户训练页面，已完成第一、二步。

1. 选择数据集，需要确保数据集全部标注完成！
2. 选择预训练权重，内置 yolov5vs/m/l/x 四种；
3. 其他训练参数设置；
4. 进行实时训练。

<img src="https://cdn.jsdelivr.net/gh/juaran/juaran.github.io@image/typora/d34e4f79-15c6-480e-96fb-ce138672886f.png" alt="d34e4f79-15c6-480e-96fb-ce138672886f" style="zoom: 50%;" />

#### 1121

* 使用 wandb 可视化训练权重与偏差，后面将作为训练系统可视化展示部分：

<img src="https://cdn.jsdelivr.net/gh/juaran/juaran.github.io@image/typora/17245b15-c9b7-49f9-b1ff-008a17e36116.png" alt="17245b15-c9b7-49f9-b1ff-008a17e36116" style="zoom:67%;" />

<img src="https://cdn.jsdelivr.net/gh/juaran/juaran.github.io@image/typora/17286acf-bcb2-445d-886e-836f5f8e281b.jpg" alt="17286acf-bcb2-445d-886e-836f5f8e281b" style="zoom: 40%;" />

* 在后端对前端保存的labels进行格式转换、创建对应 yaml 文件、修改model的yaml文件，分别对应yolov5训练自定义模型的三个重要训练参数：--data --cfg --weight

#### 1122

初步完成训练参数配置并执行 yolov5 训练

<img src="https://cdn.jsdelivr.net/gh/juaran/juaran.github.io@image/typora/04cfd9f4-8502-422d-ac3d-01fbacbd0974.png" alt="04cfd9f4-8502-422d-ac3d-01fbacbd0974" style="zoom: 60%;" />


可视化展示训练时的权重和偏差：

<img src="https://cdn.jsdelivr.net/gh/juaran/juaran.github.io@image/typora/cc0bfc04-bb9a-4794-b2e9-d7ca81e85afd.png" alt="cc0bfc04-bb9a-4794-b2e9-d7ca81e85afd" style="zoom: 60%;" />